using System;
using System.IO;
using System.Threading;

namespace forcecopy
{	
	class forcecopy
	{		static void Main(string[] args)
		{
			while (true)
			{
				try
				{
					File.Copy(args[0], args[1], true);
					Console.WriteLine("[Attempt] File has been overwritten {0}", args[1]);
					Console.SetCursorPosition(0, Console.CursorTop - 1);
					System.Threading.Thread.Sleep(50);
									}
				catch (FileNotFoundException)
				{
					Console.WriteLine("[Error] Target FileNotFoundException {0}", args[1]);
					continue;
				}
				catch (UnauthorizedAccessException)
				{
					Console.WriteLine("[Fatal] UnauthorizedAccessException for {0}", args[1]);
					continue;
				}
				catch (IOException)
				{
					Console.WriteLine("[Fatal] file is being used by another process {0}", args[1]);
					continue;
				}
			}
		}
	}
}